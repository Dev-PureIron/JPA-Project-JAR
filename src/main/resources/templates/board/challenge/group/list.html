<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>그룹 챌린지 게시판 목록</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/board/challenge/challenge-list.css">
    <link rel="icon" href="/image/logo/favicon.png">
    <link rel="stylesheet" href="/css/main/header.css">
    <link rel="stylesheet" href="/css/main/footer.css">
</head>
<body>
    <div class="__next">
        <div id="wrapper">
            <div id="header"></div>
            <div class="main">
                <div class="main-wrapper">
                    <section class="main-wrapper-section">
                        <section class="main-wrapper-section-box">
                            <section class="main-wrapper-section-box-layout">
                                <div class="main-wrapper-section-box-layout-wrap wrap-1">
                                    <h2>그룹 챌린지 </h2>
                                    <div class="div-line" top="0" right="0" bottom="24" left="0"></div>
                                    <div class="main-top">
                                        <section class="main-top-wrap">
                                            <section class="main-top-wrap-box">
                                                <button class="currently-challenge challenge challenge-1 challenge-2" value="0" icon-position="0" color="default" fill="false">
                                                    <span>진행중인 챌린지</span>
                                                </button>
                                                <button class="closing-challenge challenge challenge-1 challenge-2" value="1" icon-position="0" color="default" fill="false">
                                                    <span>종료된 챌린지</span>
                                                </button>
                                            </section>
                                        </section>
                                    </div>
                                    <div class="div-line" top="0" right="0" bottom="24" left="0"></div>
                                    <div class="challenge-wrapper">
                                        <div class="challenge-line" top="[object Object]" right="0" buttom="0" left="0"></div>
                                        <div class="challenge-wrapper-main">
                                            <div class="challenge-wrapper-main-box">

                                                <ul smcolumn="2" class="challenge-wrapper-list">

<!--                                                    <li smcolumn="2" lgcolumn="3" class="challenge-board">-->
<!--                                                        <div class="challenge-board-box">-->
<!--                                                            <a href=""  class="challenge-board-box-a">-->
<!--                                                                <div class="challenge-board-box-a-box">-->
<!--                                                                    <div class="board-box">-->
<!--                                                                        <span class="board-box-span-1 board-box-span-2">-->
<!--                                                                            <picture class="board-box-picture" ratio="0.75">-->
<!--                                                                                <img sizes="(min-width: 1024px) 300px, 50vw" src="/image/board/board-img.png" alt="챌린지 게시판" class="board-box-picture-img">-->
<!--                                                                            </picture>-->
<!--                                                                        </span>-->
<!--                                                                    </div>-->
<!--                                                                    <div class="">-->
<!--                                                                        <div class="board-container-1">-->
<!--                                                                            <p class="board-container-name">곽두철</p>-->
<!--                                                                        </div>-->
<!--                                                                        <div class="board-container-2">곽두철의 폭행, 공갈협박, 공중제비, 아리랑치기 전문가가 되는 법, 곽두철의 독학 비법서</div>-->
<!--                                                                        <div class="board-container-3">-->
<!--                                                                            <div class="board-container-set">-->
<!--                                                                                <div class="board-container-set-wrap" data-test-group="product-card-wishlited-count1">-->
<!--                                                                                    <div class="board-container-set-box">-->
<!--                                                                                        <img src="/image/board/human-icon.png" alt="" class="human-icon">-->
<!--                                                                                        &lt;!&ndash; <svg width="12" height="12" fill="none" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M1.5 8.824C1.5 5.607 3.962 3 7 3c2.5 0 4 1.5 5 3 1-1.5 2.5-3 5-3 3.038 0 5.5 2.607 5.5 5.824C22.5 14.827 16.684 18.52 12 21 7.316 18.52 1.5 14.827 1.5 8.824z" fill="#d7d7d7"></path></svg> &ndash;&gt;-->
<!--                                                                                        51832-->
<!--                                                                                    </div>-->
<!--                                                                                </div>-->
<!--                                                                                <div class="board-container-set-like" data-test-group="product-card-like-count">-->
<!--                                                                                    <div class="board-container-set-box">-->
<!--                                                                                        <img src="/image/board/reply-icon.png" alt="" class="reply-icon">-->
<!--                                                                                        &lt;!&ndash; <svg width="12" height="12" fill="none" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M2 10.68c0-.691.503-1.251 1.135-1.251h2.273V22H3.135C2.508 22 2 21.427 2 20.749V10.68zm11.361-2.508h6.366c1.255 0 2.272 1.126 2.272 2.514 0 .151-.012.301-.037.45l-1.616 9.832C20.25 21.566 19.779 22 19.23 22H7.681V9.429L11.089 0c1.704 0 2.84 1.257 2.84 3.143 0 1.257-.189 2.933-.568 5.029z" fill="#d7d7d7"></path></svg> &ndash;&gt;-->
<!--                                                                                        302-->
<!--                                                                                    </div>-->
<!--                                                                                </div>-->
<!--                                                                            </div>-->
<!--                                                                        </div>-->
<!--                                                                    </div>-->
<!--                                                                    <div class="board-box-line"></div>-->
<!--                                                                    <div class="board-box-line-flex"></div>-->
<!--                                                                </div>-->
<!--                                                            </a>-->
<!--                                                        </div>-->
<!--                                                    </li>-->

                                                </ul>
                                            </div>
                                            <div></div>
                                            <section class="pasing-wrapper">
                                                <div>
                                                    <button icon-position="2" disabled class="pasing-button-1 pasing-button-2 pasing-button-3 pasing-button-4 prev" color="default">
                                                        <span class="pasing-button-span">
                                                            <svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M15.5 5.5l-6 6.5 6 6.5L14 20l-7.5-8L14 4l1.5 1.5z" fill="#efefef"></path></svg>
                                                        </span>
                                                    </button>
                                                    <button icon-position="0"  class="pasing-button-1 pasing-no-select pasing-select pasing-button-3" color="orange" fill="false">
                                                        <span class="pasing-button-span">1</span>
                                                    </button>
                                                    <button icon-position="0" color="white" fill="false" class="pasing-button-1 pasing-button-3 pasing-no-select">
                                                        <span class="pasing-button-span">2</span>
                                                    </button>
                                                    <button icon-position="0" color="white" fill="false" class="pasing-button-1 pasing-button-3 pasing-no-select">
                                                        <span class="pasing-button-span">3</span>
                                                    </button>
                                                    <button icon-position="0" color="white" fill="false" class="pasing-button-1 pasing-button-3 pasing-no-select">
                                                        <span class="pasing-button-span">4</span>
                                                    </button>
                                                    <button icon-position="0" color="white" fill="false" class="pasing-button-1 pasing-button-3 pasing-no-select">
                                                        <span class="pasing-button-span">5</span>
                                                    </button>
                                                    <button icon-position="2" disabled class="pasing-button-1 pasing-button-2 pasing-button-3 pasing-button-4 prev" color="default">
                                                        <span class="pasing-button-span">
                                                            <svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M8.5 18.5l6-6.5-6-6.5L10 4l7.5 8-7.5 8-1.5-1.5z" fill="#1a1a1a"></path></svg>
                                                        </span>
                                                    </button>
                                                </div>
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </section>
                    </section>
                </div>
            </div>
            <div id="footer"></div>
        </div>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
<script>
    /* 진행중인 챌린지 / 종료된 챌린지 */
    let currentlyBtn = document.querySelector('.currently-challenge');
    let closingBtn = document.querySelector('.closing-challenge');

    const cuurrentValue = currentlyBtn.getAttribute('value');
    const closeValue = closingBtn.getAttribute('value');

    currentlyBtn.onclick = function(){
        currentlyBtn.style.backgroundColor ='#d7d7d7';
        currentlyBtn.style.fontWeight = '900';
        closingBtn.style.backgroundColor = 'white';
        closingBtn.style.fontWeight = 'normal';
    }

    closingBtn.onclick = function(){
        closingBtn.style.backgroundColor ='#d7d7d7';
        closingBtn.style.fontWeight = '900';
        currentlyBtn.style.backgroundColor = 'white';
        currentlyBtn.style.fontWeight = 'normal';

    }

    /* 페이징 버튼  */
    let pages = document.querySelectorAll('.pasing-no-select')
    pages.forEach(page =>{
        page.addEventListener('click', function(){
            pages.forEach(p => {
                p.classList.remove('pasing-select');
            })
            page.classList.add('pasing-select');
        })
    })
</script>
<script>

    const $ul = $(".challenge-wrapper-list");
    let page = 0;

    groupChallengeService = (function(){
        function list(page, callback) {
            $.ajax({
                url : '/board/challenge/group/content-list',
                type: 'get',
                data : page,
                success : function(list){
                    if(callback){
                        callback(list);
                    }
                }
            });
        }

        return {
            list : list
        }
    })();

    groupChallengeService.list({
        page : page
    }, function(list){
        listText(list);
    })


    function listText(list){
        let groupChallengeDTOS = list.content;

        $(groupChallengeDTOS).each((i, groupChallengeDTO) => {
            let text = `
                                                <li smcolumn="2" lgcolumn="3" class="challenge-board">
                                                        <div class="challenge-board-box">
                                                            <a href=""  class="challenge-board-box-a">
                                                                <div class="challenge-board-box-a-box">
                                                                    <div class="board-box">
                                                                        <span class="board-box-span-1 board-box-span-2">
                                                                            <picture class="board-box-picture" ratio="0.75">
                                                                                <img sizes="(min-width: 1024px) 300px, 50vw" src="/image/board/board-img.png" alt="챌린지 게시판" class="board-box-picture-img">
                                                                            </picture>
                                                                        </span>
                                                                    </div>
                                                                    <div class="">
                                                                        <div class="board-container-1">
                                                                            <p class="board-container-name">${groupChallengeDTO.boardTitle}</p>
                                                                        </div>
                                                                        <div class="board-container-2">${groupChallengeDTO.boardContent}</div>
                                                                        <div class="board-container-3">
                                                                            <div class="board-container-set">
                                                                                <div class="board-container-set-wrap" data-test-group="product-card-wishlited-count1">
                                                                                    <div class="board-container-set-box">
                                                                                        <img src="/image/board/human-icon.png" alt="" class="human-icon">
                                                                                        51832
                                                                                    </div>
                                                                                </div>
                                                                                <div class="board-container-set-like" data-test-group="product-card-like-count">
                                                                                    <div class="board-container-set-box">
                                                                                        <img src="/image/board/reply-icon.png" alt="" class="reply-icon">
                                                                                        302
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="board-box-line"></div>
                                                                    <div class="board-box-line-flex"></div>
                                                                </div>
                                                            </a>
                                                        </div>
                                                    </li>

        `;
            $ul.append(text);
        });

    }






</script>
</html>